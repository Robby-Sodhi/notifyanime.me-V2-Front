{"version":3,"sources":["components/Utility.js","components/header.js","components/slideshow.js","components/welcomeScreen.js","components/homePage.js","components/Form.js","components/AuthPage.js","components/LoginPage.js","components/AboutPage.js","components/processWatchList.js","components/Dashboard.js","components/SignupPage.js","index.js"],"names":["backendAddress","userLoggedIn","getCookieValue","offsetH","Date","getTimezoneOffset","offsetM","mod","name","document","cookie","match","pop","deleteCookieValue","setCookieValue","value","maxAge","Calendar","monday","tuesday","wednesday","thursday","friday","saturday","sunday","CalendarFlipped","0","1","2","3","4","5","6","DateModuleCalendar","getTodaysDate","getDay","n","m","pad","num","size","toString","length","Header","state","menu","loggedIn","toggleDrawer","open","event","type","key","setState","this","buttons","text","link","target","push","onClick","window","location","reload","href","className","map","item","style","marginLeft","float","marginTop","border","Drawer","anchor","onClose","List","color","textDecoration","ListItem","button","ListItemText","primary","React","Component","Slideshow","images","image","index","rel","src","alt","WelcomeScreen","HomePage","Form","htmlFor","placeholder","props","username","onChange","change","password","margin","onSubmit","error","class","role","hasWhiteSpace","s","test","AuthPage","Defaultstate","redirect","loading","a","preventDefault","console","log","body","fetch","method","headers","JSON","stringify","then","response","json","data","catch","to","CircularProgress","fontWeight","AboutPage","unkownObject","start_time","day_of_the_week","processWatchList","watchList","watching","completed","planToWatch","currentlyAiring","forEach","element","theDay","time","hours","parseInt","slice","minutes","dayOfWeek","newHours","newMinutes","jstDayWeekToOffset","todayCalendar","count","sort","first","second","Dashboard","loggedInToMal","SendAuthorizationCodeToServer","sessionKey","authorizationCode","codeChallenge","Error","adjustEpisode","numWatched","alert","id","temp","show","session_key","params","URL","searchParams","get","history","replaceState","title","Box","display","justifyContent","flexWrap","alignContent","width","height","string","charAt","toUpperCase","Grid","container","direction","alignItems","spacing","marginRight","CodeChallenge","btoa","crypto","getRandomValues","Uint8Array","substr","url","App","path","exact","component","LoginPage","SignupPage","ReactDOM","render","getElementById"],"mappings":"yPACaA,EAAiB,gCASvB,IAAMC,EAAe,WAC1B,QAAIC,EAAe,gBAKRC,GAAU,IAAIC,MAAOC,oBAAsB,GAC3CC,EAAUC,GAAI,IAAIH,MAAOC,oBAAqB,IAE9CH,EAAiB,SAACM,GAAD,aAC5B,UAAAC,SAASC,OAAOC,MAAM,YAAcH,EAAO,2BAA3C,eAAgEI,QAAS,IAE9DC,EAAoB,SAACL,GAAD,OAC9BC,SAASC,OAAT,UAAqBF,EAArB,sDACUM,EAAiB,SAACN,EAAMO,EAAOC,GAAd,OAC3BP,SAASC,OAAT,UAAqBF,EAArB,YAA6BO,EAA7B,qBAA+CC,EAA/C,MAEUC,EAAW,CACtBC,OAAQ,EACRC,QAAS,EACTC,UAAW,EACXC,SAAU,EACVC,OAAQ,EACRC,SAAU,EACVC,OAAQ,GAEGC,EAAkB,CAC7BC,EAAG,SACHC,EAAG,UACHC,EAAG,YACHC,EAAG,WACHC,EAAG,SACHC,EAAG,WACHC,EAAG,UAECC,EAAqB,CACzBP,EAAG,SACHC,EAAG,SACHC,EAAG,UACHC,EAAG,YACHC,EAAG,WACHC,EAAG,SACHC,EAAG,YAEQE,EAAgB,kBAAMD,GAAmB,IAAI7B,MAAO+B,WAIjE,SAAS5B,EAAI6B,EAAGC,GACd,OAASD,EAAIC,EAAKA,GAAKA,EAElB,IAAMC,EAAM,SAACC,EAAKC,GAEvB,IADAD,EAAMA,EAAIE,WACHF,EAAIG,OAASF,GAClBD,EAAM,IAAMA,EAEd,OAAOA,G,wCC9DYI,E,4MAOnBC,MAAQ,CACNC,MAAM,EACNC,UAAU,G,EAGZC,aAAe,SAACC,GAAD,OAAU,SAACC,IAEP,YAAfA,EAAMC,MACS,QAAdD,EAAME,KAA+B,UAAdF,EAAME,MAKhC,EAAKC,SAAS,CAAEP,KAAMG,M,uDAnBxB,WACM/C,KACFoD,KAAKD,SAAS,CAAEN,UAAU,M,oBAmB9B,WAAU,IAAD,OACHQ,EAAU,CACZ,CACEC,KAAM,UACNC,KAAM,oCACNC,OAAQ,UAEV,CACEF,KAAM,SACNC,KAAM,8CACNC,OAAQ,UAEV,CAAEF,KAAM,QAASC,KAAM,WAgBzB,OAdIH,KAAKT,MAAME,SACbQ,EAAQI,KAAK,CACXH,KAAM,SACNI,QAAS,WACP9C,EAAkB,eAClB+C,OAAOC,SAASC,YAIpBR,EAAQI,KAAK,CACXH,KAAM,QACNC,KAAM,WAIR,mCACE,mBAAGO,KAAK,IAAR,SACE,wBAAQC,UAAU,sCAAlB,8BAIF,sBAAKA,UAAU,SAAf,UACGV,EAAQW,KAAI,SAACC,GACZ,OACE,mBAAmBH,KAAMG,EAAKV,KAAMC,OAAQS,EAAKT,OAAjD,SACE,wBACEU,MAAO,CACLC,WAAY,OAEdJ,UAAU,qCACVL,QAASO,EAAKP,QAAU,kBAAMO,EAAKP,WAAY,KALjD,SAOGO,EAAKX,QARFW,EAAKX,SAajB,yBACEI,QAAS,WACP,EAAKP,SAAS,CAAEP,MAAO,EAAKD,MAAMC,QAEpCsB,MAAO,CAAEE,MAAO,QAASC,UAAW,MAAOC,OAAQ,QAJrD,UAME,qBAAKP,UAAU,SACf,qBAAKA,UAAU,SACf,qBAAKA,UAAU,eAGnB,cAACQ,EAAA,EAAD,CACExB,KAAMK,KAAKT,MAAMC,KACjB4B,OAAO,QACPC,QAASrB,KAAKN,cAAa,GAH7B,SAKE,cAAC4B,EAAA,EAAD,UACGrB,EAAQW,KAAI,SAACC,GAAD,OACX,mBAEEC,MAAO,CACLS,MAAO,UACPC,eAAgB,WAElBd,KAAMG,EAAKV,KACXC,OAAQS,EAAKT,OAPf,SASE,cAACqB,EAAA,EAAD,CACEC,QAAM,EACNpB,QAASO,EAAKP,QAAU,kBAAMO,EAAKP,WAAY,KAFjD,SAIE,cAACqB,EAAA,EAAD,CAAcC,QAASf,EAAKX,UAZzBW,EAAKX,oB,GA5FU2B,IAAMC,WCFrBC,E,4MACnBxC,MAAQ,CACNyC,OAAQ,CACN,CACEC,MAAO,2DACP9B,KAAM,0DAER,CACE8B,MAAO,2DACP9B,KAAM,sEAER,CACE8B,MAAO,4DACP9B,KAAM,+DAER,CACE8B,MAAO,4DACP9B,KAAM,uDAER,CACE8B,MAAO,4DACP9B,KAAM,0CAER,CACE8B,MAAO,4DACP9B,KAAM,kD,4CAIZ,WACE,OACE,qBAAKQ,UAAU,YAAf,SACGX,KAAKT,MAAMyC,OAAOpB,KAAI,SAACC,EAAMqB,GAAP,OACrB,+BACE,mBAAGxB,KAAMG,EAAKV,KAAMgC,IAAI,aAAa/B,OAAO,SAA5C,SACE,qBAAiBgC,IAAKvB,EAAKoB,MAAOI,IAAI,IAA5BH,gB,GAnCeL,IAAMC,WCCxBQ,E,4MACnB/C,MAAQ,CACNE,UAAU,G,uDAGZ,WACM7C,KACFoD,KAAKD,SAAS,CAAEN,UAAU,M,oBAI9B,WACE,OACE,8BACE,gCACE,sBAAKkB,UAAU,iBAAf,WACIX,KAAKT,MAAME,UACX,mBAAGiB,KAAK,SAAR,SACE,wBAAQC,UAAU,0CAAlB,sBAKFX,KAAKT,MAAME,UACX,mBAAGiB,KAAK,UAAR,SACE,wBAAQC,UAAU,0CAAlB,sBAKHX,KAAKT,MAAME,UACV,mBAAGiB,KAAK,aAAR,SACE,wBAAQC,UAAU,0CAAlB,4BAMN,cAAC,EAAD,a,GAtCiCkB,IAAMC,WCC5BS,E,4JACnB,WACE,OACE,gCACE,cAAC,EAAD,IACA,cAAC,EAAD,W,GAL8BV,IAAMC,W,iDCFvBU,E,4JACnB,WAAU,IAAD,OACP,OACE,sBAAK7B,UAAU,wBAAf,UACE,iCACE,uBAAO8B,QAAQ,WAAf,sBACA,uBACE9B,UAAU,eACVxD,KAAK,WACLuF,YAAY,WACZhF,MAAOsC,KAAK2C,MAAMC,SAClBC,SAAU,SAACjD,GAAD,OAAW,EAAK+C,MAAMG,OAAOlD,MAEzC,uBAAO6C,QAAQ,WAAf,sBACA,uBACE9B,UAAU,eACVxD,KAAK,WACL0C,KAAK,WACL6C,YAAY,WACZhF,MAAOsC,KAAK2C,MAAMI,SAClBF,SAAU,SAACjD,GAAD,OAAW,EAAK+C,MAAMG,OAAOlD,MAEzC,wBACEe,UAAU,2CACVG,MAAO,CAAEkC,OAAQ,MAAOjC,WAAY,KACpCT,QAAS,SAACV,GACR,EAAK+C,MAAMM,SAASrD,IAJxB,uBAUDI,KAAK2C,MAAMO,OACV,qBAAKC,MAAM,qBAAqBC,KAAK,QAArC,SACGpD,KAAK2C,MAAMO,QAGhB,8BAAMlD,KAAK2C,MAAMzC,c,GArCS2B,IAAMC,W,QCKxC,SAASuB,EAAcC,GACrB,MAAO,MAAMC,KAAKD,G,IAECE,E,4MACnBC,aAAe,CACbb,SAAU,GACVG,SAAU,GACVG,MAAO,GACPQ,SAAU,KACVC,SAAS,G,EAEXpE,M,eAAa,EAAKkE,c,EAOlBX,OAAS,SAAClD,GACR,EAAKG,SAAS,CAAEmD,MAAO,KACvB,EAAKnD,SAAL,eAAiBH,EAAMQ,OAAOjD,KAAOyC,EAAMQ,OAAO1C,S,EAEpDuF,S,uCAAW,WAAOrD,GAAP,eAAAgE,EAAA,yDACThE,EAAMiE,iBACNC,QAAQC,IAAI,EAAKxE,OACZ,EAAKA,MAAMqD,UAAa,EAAKrD,MAAMwD,SAH/B,uBAIP,EAAKhD,SAAS,CAAEmD,MAAO,mCAJhB,8BAOLG,EAAc,EAAK9D,MAAMqD,UAPpB,uBAQP,EAAK7C,SAAS,CAAEmD,MAAO,kCARhB,iCAWLc,EAAO,CACTpB,SAAU,EAAKrD,MAAMqD,SACrBG,SAAU,EAAKxD,MAAMwD,SACrBlD,KAAM,EAAK8C,MAAM9C,MAEnB,EAAKE,SAAS,CAAE4D,SAAS,IAhBhB,UAiBHM,MAAM,GAAD,OAAItH,EAAJ,qBAAuC,CAChDuH,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAEL,OADAX,QAAQC,IAAIU,GACU,GAAlBA,EAAI,QAAwBA,EAAK,gBAInChH,EAAe,cAAegH,EAAK,eAAgB,QACnDX,QAAQC,IAAI,6DACZ,EAAKhE,SAAS,CAAE2D,SAAU,qBAL1B,EAAK3D,SAAS,CAAEmD,MAAO,EAAKP,MAAMO,WASrCwB,OAAM,SAACxB,GACNY,QAAQZ,MAAMA,GACd,EAAKnD,SAAS,CACZmD,MAAO,+DAxCJ,QA2CT,EAAKnD,SAAS,CAAE4D,SAAS,IA3ChB,4C,6GAVX,WACM/G,MACFkH,QAAQC,IAAI,2CACZ/D,KAAKD,SAAS,CAAE2D,SAAU,kB,oBAoD9B,WACE,OAAI1D,KAAKT,MAAMmE,SACN,cAAC,IAAD,CAAUiB,GAAI3E,KAAKT,MAAMmE,WACvB1D,KAAKT,MAAMoE,QAElB,gCACE,cAAC,EAAD,IACA,cAACiB,EAAA,EAAD,CAAkBjE,UAAU,iBAKR,UAApBX,KAAK2C,MAAM9C,KACbK,EACE,sBAAKY,MAAO,CAAE+D,WAAY,KAA1B,oCACyB,mBAAGnE,KAAK,UAAR,wBAGC,UAAnBV,KAAK2C,MAAM9C,OACpBK,EACE,sBAAKY,MAAO,CAAE+D,WAAY,KAA1B,sCAC2B,mBAAGnE,KAAK,SAAR,uBAK7B,gCACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEuC,SAAUjD,KAAKiD,SACfH,OAAQ9C,KAAK8C,OACbF,SAAU5C,KAAKT,MAAMqD,SACrBG,SAAU/C,KAAKT,MAAMwD,SACrBG,MAAOlD,KAAKT,MAAM2D,MAClBhD,KAAMA,QAvBZ,IAAIA,M,GA3E4B2B,IAAMC,WCPvBS,E,4JACnB,WACE,OAAO,cAAC,EAAD,CAAU1C,KAAK,QAAQqD,MAAM,sB,GAFFrB,IAAMC,WCDvBgD,E,4JACnB,WACE,OACE,gCACE,cAAC,EAAD,IACA,mCACE,mBACEhE,MAAO,CAAES,MAAO,UAAWC,eAAgB,WAC3Cd,KAAK,yDAFP,SAIE,mBAAGC,UAAU,qBAAb,sBAEF,+G,GAZ6BkB,IAAMC,W,wBCQvCiD,EACO,CAAEC,WAAY,KAAMC,gBAAiB,MAErCC,EAAmB,SAACC,GAC/B,IAAIC,EAAW,GACXC,EAAY,GACZC,EAAc,GACdC,EAAkB,IACtBJ,EAAYA,EAAS,MACXK,SAAQ,SAACC,GAEf,mBAAoBA,EAAO,MAC3B,WAAYA,EAAO,KAAP,gBACZ,WAAYA,EAAO,OAEiC,aAAhDA,EAAO,KAAP,uBACFL,EAAS/E,KAAKoF,GACoB,qBAA9BA,EAAO,KAAP,SACFF,EAAgBlF,KAAKoF,GAEnB,cAAeA,EAAO,MACtB,eAAgBA,EAAO,KAAP,UAEhBA,EAAO,KAAP,UTmCsB,SAACC,EAAQC,EAAM7I,EAASG,GAOxD,IANA,IACI2I,EAAQC,SAASF,EAAKG,MAAM,EAAG,IAC/BC,EAAUF,SAASF,EAAKG,MAAM,EAAG,IACjCE,EAAYpI,EAAS8H,GACrBO,EAAW/I,EAAI0I,GAJA,EAIsB9I,GAAU,IAC/CoJ,EAAahJ,EAAI6I,EAAU9I,EAAS,IACjC8I,EAAU9I,EAAU,IACzB2I,GAAS,EACTG,GAAW,GAEb,KAAOA,EAAU9I,EAAU,GACzB2I,GAAS,EACTG,GAAW,GAEb,KAAOH,GAdY,EAcU9I,GAAW,IACtCkJ,GAAwB,GACR,IACdA,EAAY,EAAIA,GAElBJ,GAAgB,GAElB,KAAOA,GArBY,EAqBU9I,GAAW,KACtCkJ,GAAwB,GACR,IACdA,GAAwB,GAE1BJ,GAAgB,GAElB,MAAO,CACLX,gBAAiB7G,EAAgB4H,GACjChB,WAAW,GAAD,OAAK/F,EAAIgH,EAAU,GAAnB,YAAyBhH,EAAIiH,EAAY,KSlEZC,CAC7BV,EAAO,KAAP,0BACAA,EAAO,KAAP,qBACA3I,EACAG,GAGFwI,EAAO,KAAP,UAA+BV,IAGsB,cAAhDU,EAAO,KAAP,sBACTJ,EAAUhF,KAAKoF,GAEiC,kBAAhDA,EAAO,KAAP,uBAEAH,EAAYjF,KAAKoF,OAIvB,IAAIW,EAAa,eAAQxI,GACzBwI,EAAcvH,MAAoB,EAGlC,IAFA,IAAIqD,ETEgCtE,EAASiB,KSFZ,EAC7BwH,EAAQ,IACH,CAIP,GAHInE,EAAQ,IACVA,EAAQ,IAEqC,IAA3CkE,EAAchI,EAAgB8D,IAAgB,CAChDkE,EAAchI,EAAgB8D,IAAU,EACxC,MAEFkE,EAAchI,EAAgB8D,IAAUmE,EACxCnE,IACAmE,IAsBF,OApBAd,EAAgBe,MAAK,SAACC,EAAOC,GAC3B,OACoD,OAAlDD,EAAK,KAAL,2BAC6C,OAA7CA,EAAK,KAAL,qBAEO,EAE4C,OAAnDC,EAAM,KAAN,2BAC8C,OAA9CA,EAAM,KAAN,sBAIAJ,EAAcG,EAAK,KAAL,2BACdH,EAAcI,EAAM,KAAN,4BAHN,EAOD,KAGJ,CAAEjB,kBAAiBH,WAAUC,YAAWC,gBCzE5BmB,E,4MACnBlH,MAAQ,CACNmE,SAAU,KACVgD,eAAe,EACf/C,SAAS,EACTwB,UAAW,M,EAEbwB,8BAAgC,SAC9BC,EACAC,EACAC,GAEA,IAAI9C,EAAO,CAAE4C,aAAYC,oBAAmBC,iBAC5C,OAAO7C,MAAM,GAAD,OAAItH,EAAJ,oBAAsC,CAChDuH,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,IAAKA,EAAI,OACP,MAAM,IAAIsC,MAAM,yCAEnBrC,OAAM,SAACxB,GACNY,QAAQZ,MAAMA,GACd1F,EAAkB,eAClB,EAAKuC,SAAS,CAAE2D,SAAU,e,EAuDhCsD,cAAgB,SAACvB,EAAS5F,GACxB,IAAIoH,EAAaxB,EAAO,KAAP,oCACjB,GAAa,cAAT5F,EACFoH,QACK,IAAY,aAARpH,EAGT,MAAMkH,MAAM,kCAFZE,IAIF,GAAuC,GAAnCxB,EAAO,KAAP,cACEwB,EAAaxB,EAAO,KAAP,aACfyB,MAAM,sBAAD,OAAuBzB,EAAO,KAAP,aAAvB,mBAIT,KAAIwB,EAAa,GAAjB,CAGA,IAAIjD,EAAO,CAAEiD,WAAYA,EAAYE,GAAI1B,EAAO,KAAP,IACzCxB,MAAM,GAAD,OAAItH,EAAJ,kBAAoC,CACvCuH,OAAQ,OACRC,QAAS,CACP,eAAgB,aAChB,cAAetH,EAAe,gBAEhCmH,KAAMI,KAAKC,UAAUL,KAEpBM,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAEL,GADAX,QAAQC,IAAIU,IACPA,EAAI,OAGP,OAFAjH,EAAkB,oBAClB,EAAKuC,SAAS,CAAE2D,SAAU,cAI7BgB,OAAM,kBACLwC,MACE,2EAIN,IAAIE,EAAI,eAAQ,EAAK7H,MAAM4F,WAC3BrB,QAAQC,IAAIqD,GA3CqB,oBA4ChBA,EAAI,iBA5CY,IA4CjC,2BAA0C,CAAC,IAAlCC,EAAiC,QACpCA,EAAI,KAAJ,IAAsB5B,EAAO,KAAP,KACxB4B,EAAI,KAAJ,oCAAyDJ,IA9C5B,8BAiDjC,EAAKlH,SAAS,CAAEoF,UAAWiC,M,8FApG7B,qCAAAxD,EAAA,yDACE5D,KAAKD,SAAS,CAAE4D,SAAS,IAErB2D,EAAczK,EAAe,eACjCiH,QAAQC,IAAIuD,GACPA,EALP,uBAMIxD,QAAQZ,MAAM,yDACdlD,KAAKD,SAAS,CAAE2D,SAAU,WAP9B,+BAWM6D,EAAS,IAAIC,IAAIpK,SAASoD,UAAUiH,cAC7BC,IAAI,QAZjB,qBAaQ7K,EAAe,kBAbvB,kCAcYmD,KAAK2G,8BACTW,EACAC,EAAOG,IAAI,QACX7K,EAAe,mBAjBvB,QAmBM0D,OAAOoH,QAAQC,aAAa,GAAIxK,SAASyK,MAAO,cAnBtD,+BAqBM7H,KAAKD,SAAS,CAAE2G,eAAe,IArBrC,4CAyBQzC,MAAM,GAAD,OAAItH,EAAJ,iBAAmC,CAC5CuH,OAAQ,MACRC,QAAS,CACP,eAAgB,aAChB,cAAemD,KAGhBhD,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,IAAKA,EAAI,gBACP,MAAM,IAAIsC,MAAM,uBACNtC,EAAI,UAId,EAAK1E,SAAS,CAAEoF,UAAWD,EAAiBT,EAAI,aAHhD,EAAK1E,SAAS,CAAE2G,eAAe,OAMlChC,OAAM,SAACxB,GACNY,QAAQZ,MAAMA,GACd1F,EAAkB,eAClB,EAAKuC,SAAS,CAAE2D,SAAU,cA9ChC,QAiDE1D,KAAKD,SAAS,CAAE4D,SAAS,IAjD3B,iD,0EAuGA,WAAU,IAAD,OACP,GAAI3D,KAAKT,MAAMmE,SACb,OAAO,cAAC,IAAD,CAAUiB,GAAI3E,KAAKT,MAAMmE,WAC3B,GAAK1D,KAAKT,MAAMmH,cAqBhB,OAAI1G,KAAKT,MAAMoE,QAElB,gCACE,cAAC,EAAD,IACA,cAACiB,EAAA,EAAD,CAAkBjE,UAAU,gBAK9BX,KAAKT,MAAM4F,WACXnF,KAAKT,MAAM4F,UAAX,iBACAnF,KAAKT,MAAM4F,UAAX,SAGE,gCACE,cAAC,EAAD,IACA,qBAAKrE,MAAO,CAAEC,WAAY,MAA1B,SACE,cAAC+G,EAAA,EAAD,CACEC,QAAQ,OACRC,eAAe,eACfC,SAAS,OACTC,aAAa,gBAJf,SAMGlI,KAAKT,MAAM4F,UAAX,gBAAwCvE,KAAI,SAAC6E,GAC5C,OACE,sBAAK9E,UAAU,kBAAf,UACE,eAACmH,EAAA,EAAD,CACEC,QAAQ,OACRI,MAAM,QACNC,OAAO,QACPpF,OAAO,OAJT,UAOE,qBACEZ,IAAKqD,EAAO,KAAP,oBACLpD,IAAKoD,EAAO,KAAP,QAEP,sBAAK9E,UAAU,gBAAf,UACE,uCVjNY0H,EUmNR5C,EAAO,KAAP,0BVlNvB4C,EAGEA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOvC,MAAM,GAF5C,MU+Me,YAGOL,EAAO,KAAP,wBAEP,6EAEaA,EAAO,KAAP,oCAFb,oCAKA,eAAC+C,EAAA,EAAD,CACEC,WAAS,EACTC,UAAU,MACVV,eAAe,SACfW,WAAW,GACXC,QAAS,EACT9H,MAAO,CAAE+H,YAAa,QANxB,UAQE,cAACL,EAAA,EAAD,CAAM3H,MAAI,EAAV,SACE,wBACEP,QAAS,kBACP,EAAK0G,cAAcvB,EAAS,cAE9B9E,UAAU,2CAJZ,iBASF,cAAC6H,EAAA,EAAD,CAAM3H,MAAI,EAAV,SACE,wBACEP,QAAS,kBACP,EAAK0G,cAAcvB,EAAS,cAE9B9E,UAAU,2CAJZ,yBApCD8E,EAAO,KAAP,IAgDP,mBAAG9E,UAAU,gBAAb,SACG8E,EAAO,KAAP,WV3PlB,IAA+B4C,YUqQvB,yDA9GT,IAAMS,EAAgBC,KACpBC,OAAOC,gBAAgB,IAAIC,WAAW,OACtCC,OAAO,EAAG,MACRL,EAAczJ,OAAS,IAAMyJ,EAAgB,OAC/CtL,EAAkB,eAClBwC,KAAKD,SAAS,CAAE2D,SAAU,WAE5BjG,EAAe,iBAAkBqL,EAAe,MAChD,IAAIM,EAAG,mFVlKY,mCUkKZ,2BAA2GN,GAElH,OADAhF,QAAQC,IAAIqF,GAEV,gCACE,cAAC,EAAD,IACA,mBAAG1I,KAAM0I,EAAT,SACE,wBAAQzI,UAAU,iEAAlB,6C,GAzJ2BkB,IAAMC,WCZxBS,E,4JACnB,WACE,OAAO,cAAC,EAAD,CAAU1C,KAAK,SAASqD,MAAM,gC,GAFHrB,IAAMC,W,QCOtCuH,E,4JACJ,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWjH,IACjC,cAAC,IAAD,CAAO+G,KAAK,QAAQC,OAAK,EAACC,UAAWjH,IACrC,cAAC,IAAD,CAAO+G,KAAK,SAASC,OAAK,EAACC,UAAWC,IACtC,cAAC,IAAD,CAAOH,KAAK,SAASC,OAAK,EAACC,UAAW1E,IACtC,cAAC,IAAD,CAAOwE,KAAK,aAAaC,OAAK,EAACC,UAAW/C,IAC1C,cAAC,IAAD,CAAO6C,KAAK,UAAUC,OAAK,EAACC,UAAWE,a,GAV/B7H,IAAMC,WAiBxB6H,IAASC,OAAO,cAAC,EAAD,IAASxM,SAASyM,eAAe,W","file":"static/js/main.c7fdb4e5.chunk.js","sourcesContent":["export const client_id = \"0ed447cbcf7f21fe2572ce266fc0ce26\";\r\nexport const backendAddress = \"http://99.234.19.166:8000/api\";\r\n\r\nexport function capitalizeFirstLetter(string) {\r\n  if (!string) {\r\n    return null;\r\n  }\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport const userLoggedIn = () => {\r\n  if (getCookieValue(\"session-key\")) {\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\nexport const offsetH = new Date().getTimezoneOffset() / 60;\r\nexport const offsetM = mod(new Date().getTimezoneOffset(), 60);\r\n\r\nexport const getCookieValue = (name) =>\r\n  document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\")?.pop() || \"\";\r\n\r\nexport const deleteCookieValue = (name) =>\r\n  (document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`);\r\nexport const setCookieValue = (name, value, maxAge) =>\r\n  (document.cookie = `${name}=${value}; max-age=${maxAge};`);\r\n\r\nexport const Calendar = {\r\n  monday: 0,\r\n  tuesday: 1,\r\n  wednesday: 2,\r\n  thursday: 3,\r\n  friday: 4,\r\n  saturday: 5,\r\n  sunday: 6,\r\n};\r\nexport const CalendarFlipped = {\r\n  0: \"monday\",\r\n  1: \"tuesday\",\r\n  2: \"wednesday\",\r\n  3: \"thursday\",\r\n  4: \"friday\",\r\n  5: \"saturday\",\r\n  6: \"sunday\",\r\n};\r\nconst DateModuleCalendar = {\r\n  0: \"sunday\",\r\n  1: \"monday\",\r\n  2: \"tuesday\",\r\n  3: \"wednesday\",\r\n  4: \"thursday\",\r\n  5: \"friday\",\r\n  6: \"saturday\",\r\n};\r\nexport const getTodaysDate = () => DateModuleCalendar[new Date().getDay()];\r\n\r\nexport const getTodaysDateNum = () => Calendar[getTodaysDate()];\r\n\r\nfunction mod(n, m) {\r\n  return ((n % m) + m) % m;\r\n}\r\nexport const pad = (num, size) => {\r\n  num = num.toString();\r\n  while (num.length < size) {\r\n    num = \"0\" + num;\r\n  }\r\n  return num;\r\n};\r\nexport const jstDayWeekToOffset = (theDay, time, offsetH, offsetM) => {\r\n  const jst_offset = 9;\r\n  let hours = parseInt(time.slice(0, 2));\r\n  let minutes = parseInt(time.slice(3, 5));\r\n  let dayOfWeek = Calendar[theDay];\r\n  let newHours = mod(hours - (jst_offset + offsetH), 24);\r\n  let newMinutes = mod(minutes - offsetM, 60);\r\n  while (minutes - offsetM > 60) {\r\n    hours += 1;\r\n    minutes -= 60;\r\n  }\r\n  while (minutes - offsetM < 0) {\r\n    hours -= 1;\r\n    minutes += 60;\r\n  }\r\n  while (hours - (jst_offset + offsetH) < 0) {\r\n    dayOfWeek = dayOfWeek - 1;\r\n    if (dayOfWeek < 0) {\r\n      dayOfWeek = 7 + dayOfWeek;\r\n    }\r\n    hours = hours + 24;\r\n  }\r\n  while (hours - (jst_offset + offsetH) > 24) {\r\n    dayOfWeek = dayOfWeek + 1;\r\n    if (dayOfWeek > 6) {\r\n      dayOfWeek = dayOfWeek - 7;\r\n    }\r\n    hours = hours - 24;\r\n  }\r\n  return {\r\n    day_of_the_week: CalendarFlipped[dayOfWeek],\r\n    start_time: `${pad(newHours, 2)}:${pad(newMinutes, 2)}`,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { deleteCookieValue, getCookieValue, userLoggedIn } from \"./Utility\";\r\nimport { Drawer, List, ListItem, ListItemText } from \"@material-ui/core\";\r\n\r\nexport default class Header extends React.Component {\r\n  componentDidMount() {\r\n    if (userLoggedIn()) {\r\n      this.setState({ loggedIn: true });\r\n    }\r\n  }\r\n\r\n  state = {\r\n    menu: false,\r\n    loggedIn: false,\r\n  };\r\n\r\n  toggleDrawer = (open) => (event) => {\r\n    if (\r\n      event.type === \"keydown\" &&\r\n      (event.key === \"Tab\" || event.key === \"Shift\")\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ menu: open });\r\n  };\r\n  render() {\r\n    let buttons = [\r\n      {\r\n        text: \"Discord\",\r\n        link: \"https://www.discord.gg/fwBfvUdMjp\",\r\n        target: \"_blank\",\r\n      },\r\n      {\r\n        text: \"Donate\",\r\n        link: \"https://paypal.me/RncServers?locale.x=en_US\",\r\n        target: \"_blank\",\r\n      },\r\n      { text: \"About\", link: \"/About\" },\r\n    ];\r\n    if (this.state.loggedIn) {\r\n      buttons.push({\r\n        text: \"Logout\",\r\n        onClick: () => {\r\n          deleteCookieValue(\"session-key\");\r\n          window.location.reload();\r\n        },\r\n      });\r\n    } else {\r\n      buttons.push({\r\n        text: \"Login\",\r\n        link: \"/Login\",\r\n      });\r\n    }\r\n    return (\r\n      <header>\r\n        <a href=\"/\">\r\n          <button className=\"logo btn--danger--solid btn--medium\">\r\n            NotifyAnime.me\r\n          </button>\r\n        </a>\r\n        <div className=\"header\">\r\n          {buttons.map((item) => {\r\n            return (\r\n              <a key={item.text} href={item.link} target={item.target}>\r\n                <button\r\n                  style={{\r\n                    marginLeft: \"1vw\",\r\n                  }}\r\n                  className=\"btn btn--danger--solid btn--medium\"\r\n                  onClick={item.onClick ? () => item.onClick() : null}\r\n                >\r\n                  {item.text}\r\n                </button>\r\n              </a>\r\n            );\r\n          })}\r\n          <button\r\n            onClick={() => {\r\n              this.setState({ menu: !this.state.menu });\r\n            }}\r\n            style={{ float: \"right\", marginTop: \"1vh\", border: \"none\" }}\r\n          >\r\n            <div className=\"menu\"></div>\r\n            <div className=\"menu\"></div>\r\n            <div className=\"menu\"></div>\r\n          </button>\r\n        </div>\r\n        <Drawer\r\n          open={this.state.menu}\r\n          anchor=\"right\"\r\n          onClose={this.toggleDrawer(false)}\r\n        >\r\n          <List>\r\n            {buttons.map((item) => (\r\n              <a\r\n                key={item.text}\r\n                style={{\r\n                  color: \"inherit\",\r\n                  textDecoration: \"inherit\",\r\n                }}\r\n                href={item.link}\r\n                target={item.target}\r\n              >\r\n                <ListItem\r\n                  button\r\n                  onClick={item.onClick ? () => item.onClick() : null}\r\n                >\r\n                  <ListItemText primary={item.text} />\r\n                </ListItem>\r\n              </a>\r\n            ))}\r\n          </List>\r\n        </Drawer>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Slideshow extends React.Component {\r\n  state = {\r\n    images: [\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1134/111757.jpg\",\r\n        link: \"https://myanimelist.net/anime/41025/Fumetsu_no_Anata_e\",\r\n      },\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1200/111522.jpg\",\r\n        link: \"https://myanimelist.net/anime/43325/Yuukoku_no_Moriarty_2nd_Season\",\r\n      },\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1900/110097.webp\",\r\n        link: \"https://myanimelist.net/anime/42361/Ijiranaide_Nagatoro-san\",\r\n      },\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1493/113949.webp\",\r\n        link: \"https://myanimelist.net/anime/42249/Tokyo_Revengers\",\r\n      },\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1104/113797.webp\",\r\n        link: \"https://myanimelist.net/anime/41457/86\",\r\n      },\r\n      {\r\n        image: \"https://cdn.myanimelist.net/images/anime/1212/113448.webp\",\r\n        link: \"https://myanimelist.net/anime/41265/Mars_Red\",\r\n      },\r\n    ],\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"imageGrid\">\r\n        {this.state.images.map((item, index) => (\r\n          <span>\r\n            <a href={item.link} rel=\"noreferrer\" target=\"_blank\">\r\n              <img key={index} src={item.image} alt=\"\" />\r\n            </a>\r\n          </span>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Slideshow from \"./slideshow\";\r\nimport { getCookieValue, userLoggedIn } from \"./Utility\";\r\nexport default class WelcomeScreen extends React.Component {\r\n  state = {\r\n    loggedIn: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (userLoggedIn()) {\r\n      this.setState({ loggedIn: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className=\"welcomeButtons\">\r\n            {!this.state.loggedIn && (\r\n              <a href=\"/Login\">\r\n                <button className=\"Mobilebtn btn--danger--solid btn--large\">\r\n                  login\r\n                </button>\r\n              </a>\r\n            )}\r\n            {!this.state.loggedIn && (\r\n              <a href=\"/Signup\">\r\n                <button className=\"Mobilebtn btn--danger--solid btn--large\">\r\n                  signup\r\n                </button>\r\n              </a>\r\n            )}\r\n            {this.state.loggedIn && (\r\n              <a href=\"/Dashboard\">\r\n                <button className=\"Mobilebtn btn--danger--solid btn--large\">\r\n                  Dashboard\r\n                </button>\r\n              </a>\r\n            )}\r\n          </div>\r\n          <Slideshow />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport WelcomeScreen from \"./welcomeScreen\";\r\n\r\nexport default class HomePage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <WelcomeScreen />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Form extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"form-group centerForm\">\r\n        <form>\r\n          <label htmlFor=\"username\">username</label>\r\n          <input\r\n            className=\"form-control\"\r\n            name=\"username\"\r\n            placeholder=\"username\"\r\n            value={this.props.username}\r\n            onChange={(event) => this.props.change(event)}\r\n          />\r\n          <label htmlFor=\"password\">password</label>\r\n          <input\r\n            className=\"form-control\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={this.props.password}\r\n            onChange={(event) => this.props.change(event)}\r\n          />\r\n          <button\r\n            className=\"Mobilebtn btn--danger--solid btn--medium\"\r\n            style={{ margin: \"8px\", marginLeft: \"0\" }}\r\n            onClick={(event) => {\r\n              this.props.onSubmit(event);\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n        {this.props.error && (\r\n          <div class=\"alert alert-danger\" role=\"alert\">\r\n            {this.props.error}\r\n          </div>\r\n        )}\r\n        <div>{this.props.text}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Form from \"./Form\";\r\nimport { setCookieValue, getCookieValue } from \"./Utility\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { backendAddress, userLoggedIn } from \"./Utility\";\r\nfunction hasWhiteSpace(s) {\r\n  return /\\s/g.test(s);\r\n}\r\nexport default class AuthPage extends React.Component {\r\n  Defaultstate = {\r\n    username: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    redirect: null,\r\n    loading: false,\r\n  };\r\n  state = { ...this.Defaultstate };\r\n  componentDidMount() {\r\n    if (userLoggedIn()) {\r\n      console.log(\"user logged in redirecting to dashboard\");\r\n      this.setState({ redirect: \"/Dashboard\" });\r\n    }\r\n  }\r\n  change = (event) => {\r\n    this.setState({ error: \"\" });\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n  onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    console.log(this.state);\r\n    if (!this.state.username || !this.state.password) {\r\n      this.setState({ error: \"Please fill out all the fields\" });\r\n      return;\r\n    }\r\n    if (hasWhiteSpace(this.state.username)) {\r\n      this.setState({ error: \"no spaces allowed in username\" });\r\n      return;\r\n    }\r\n    let body = {\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      type: this.props.type,\r\n    };\r\n    this.setState({ loading: true });\r\n    await fetch(`${backendAddress}/authenticateUser`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data[\"status\"] == false || !data[\"session-key\"]) {\r\n          this.setState({ error: this.props.error });\r\n          return;\r\n        } else {\r\n          setCookieValue(\"session-key\", data[\"session-key\"], 86400 * 40);\r\n          console.log(\"succesfully logged user in, redirecting to dashboard\");\r\n          this.setState({ redirect: \"/Dashboard\" });\r\n          return;\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        this.setState({\r\n          error: \"Network Error: server is down or client lost connection\",\r\n        });\r\n      });\r\n    this.setState({ loading: false });\r\n  };\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect} />;\r\n    } else if (this.state.loading) {\r\n      return (\r\n        <div>\r\n          <Header />\r\n          <CircularProgress className=\"centered\" />\r\n        </div>\r\n      );\r\n    } else {\r\n      let text;\r\n      if (this.props.type === \"login\") {\r\n        text = (\r\n          <div style={{ fontWeight: 600 }}>\r\n            Don't have an account? <a href=\"/Signup\">Sign up</a>\r\n          </div>\r\n        );\r\n      } else if (this.props.type == \"signup\") {\r\n        text = (\r\n          <div style={{ fontWeight: 600 }}>\r\n            Already have an account? <a href=\"/Login\">Login</a>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div>\r\n          <Header />\r\n          <Form\r\n            onSubmit={this.onSubmit}\r\n            change={this.change}\r\n            username={this.state.username}\r\n            password={this.state.password}\r\n            error={this.state.error}\r\n            text={text}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport AuthPage from \"./AuthPage\";\r\n\r\nexport default class HomePage extends React.Component {\r\n  render() {\r\n    return <AuthPage type=\"login\" error=\"Login invalid\" />;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Header from \"./header\";\r\nexport default class AboutPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <center>\r\n          <a\r\n            style={{ color: \"inherit\", textDecoration: \"inherit\" }}\r\n            href=\"https://github.com/Robby-Sodhi/notifyanime.me-V2-Front\"\r\n          >\r\n            <i className=\"fa fa-github fa-5x\">Github</i>\r\n          </a>\r\n          <p>\r\n            NotifyAnime.me is planned to be full opensource on the above Github.\r\n          </p>\r\n        </center>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Calendar,\r\n  getTodaysDate,\r\n  getTodaysDateNum,\r\n  CalendarFlipped,\r\n  jstDayWeekToOffset,\r\n  offsetH,\r\n  offsetM,\r\n} from \"./Utility\";\r\n\r\nconst unkownObject = {\r\n  broadcast: { start_time: null, day_of_the_week: null },\r\n};\r\nexport const processWatchList = (watchList) => {\r\n  let watching = [];\r\n  let completed = [];\r\n  let planToWatch = [];\r\n  let currentlyAiring = [];\r\n  watchList = watchList[\"data\"];\r\n  watchList.forEach((element) => {\r\n    if (\r\n      \"my_list_status\" in element[\"node\"] &&\r\n      \"status\" in element[\"node\"][\"my_list_status\"] &&\r\n      \"status\" in element[\"node\"]\r\n    ) {\r\n      if (element[\"node\"][\"my_list_status\"][\"status\"] === \"watching\") {\r\n        watching.push(element);\r\n        if (element[\"node\"][\"status\"] === \"currently_airing\") {\r\n          currentlyAiring.push(element);\r\n          if (\r\n            \"broadcast\" in element[\"node\"] &&\r\n            \"start_time\" in element[\"node\"][\"broadcast\"]\r\n          ) {\r\n            element[\"node\"][\"broadcast\"] = jstDayWeekToOffset(\r\n              element[\"node\"][\"broadcast\"][\"day_of_the_week\"],\r\n              element[\"node\"][\"broadcast\"][\"start_time\"],\r\n              offsetH,\r\n              offsetM\r\n            );\r\n          } else {\r\n            element[\"node\"][\"broadcast\"] = unkownObject[\"broadcast\"];\r\n          }\r\n        }\r\n      } else if (element[\"node\"][\"my_list_status\"][\"status\"] === \"completed\") {\r\n        completed.push(element);\r\n      } else if (\r\n        element[\"node\"][\"my_list_status\"][\"status\"] === \"plan_to_watch\"\r\n      ) {\r\n        planToWatch.push(element);\r\n      }\r\n    }\r\n  });\r\n  let todayCalendar = { ...Calendar };\r\n  todayCalendar[getTodaysDate()] = -1;\r\n  let index = getTodaysDateNum() + 1;\r\n  let count = 1;\r\n  for (;;) {\r\n    if (index > 6) {\r\n      index = 0;\r\n    }\r\n    if (todayCalendar[CalendarFlipped[index]] === -1) {\r\n      todayCalendar[CalendarFlipped[index]] = 0;\r\n      break;\r\n    }\r\n    todayCalendar[CalendarFlipped[index]] = count;\r\n    index++;\r\n    count++;\r\n  }\r\n  currentlyAiring.sort((first, second) => {\r\n    if (\r\n      first[\"node\"][\"broadcast\"][\"day_of_the_week\"] === null ||\r\n      first[\"node\"][\"broadcast\"][\"start_time\"] === null\r\n    ) {\r\n      return 1;\r\n    } else if (\r\n      second[\"node\"][\"broadcast\"][\"day_of_the_week\"] === null ||\r\n      second[\"node\"][\"broadcast\"][\"start_time\"] === null\r\n    ) {\r\n      return -1;\r\n    } else if (\r\n      todayCalendar[first[\"node\"][\"broadcast\"][\"day_of_the_week\"]] <\r\n      todayCalendar[second[\"node\"][\"broadcast\"][\"day_of_the_week\"]]\r\n    ) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  });\r\n  return { currentlyAiring, watching, completed, planToWatch };\r\n};\r\n","import React from \"react\";\r\nimport Header from \"./header\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { CircularProgress, Box, Grid } from \"@material-ui/core\";\r\nimport {\r\n  client_id,\r\n  getCookieValue,\r\n  deleteCookieValue,\r\n  setCookieValue,\r\n  backendAddress,\r\n  capitalizeFirstLetter,\r\n} from \"./Utility\";\r\n\r\nimport { processWatchList } from \"./processWatchList\";\r\n\r\nexport default class Dashboard extends React.Component {\r\n  state = {\r\n    redirect: null,\r\n    loggedInToMal: true,\r\n    loading: false,\r\n    watchList: null,\r\n  };\r\n  SendAuthorizationCodeToServer = (\r\n    sessionKey,\r\n    authorizationCode,\r\n    codeChallenge\r\n  ) => {\r\n    let body = { sessionKey, authorizationCode, codeChallenge };\r\n    return fetch(`${backendAddress}/authenticateMal`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (!data[\"status\"])\r\n          throw new Error(\"session-key invalid or mal is down\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        deleteCookieValue(\"session-key\");\r\n        this.setState({ redirect: \"/Login\" });\r\n        return;\r\n      });\r\n  };\r\n  async componentDidMount() {\r\n    this.setState({ loading: true });\r\n    //get userLoggedIn() to work here\r\n    let session_key = getCookieValue(\"session-key\");\r\n    console.log(session_key);\r\n    if (!session_key) {\r\n      console.error(\"session-key missing from cookie, redirecting to login\");\r\n      this.setState({ redirect: \"/Login\" }); //user not logged in\r\n      return;\r\n    }\r\n\r\n    let params = new URL(document.location).searchParams;\r\n    if (params.get(\"code\")) {\r\n      if (getCookieValue(\"code-challenge\")) {\r\n        await this.SendAuthorizationCodeToServer(\r\n          session_key,\r\n          params.get(\"code\"),\r\n          getCookieValue(\"code-challenge\")\r\n        );\r\n        window.history.replaceState({}, document.title, \"/Dashboard\");\r\n      } else {\r\n        this.setState({ loggedInToMal: false });\r\n        return;\r\n      }\r\n    }\r\n    await fetch(`${backendAddress}/getWatchList`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"text/plain\",\r\n        \"session-key\": session_key,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        if (!data[\"sessionKeyValid\"]) {\r\n          throw new Error(\"session key invalid\");\r\n        } else if (!data[\"WatchList\"]) {\r\n          this.setState({ loggedInToMal: false });\r\n          return;\r\n        } else {\r\n          this.setState({ watchList: processWatchList(data[\"WatchList\"]) });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        deleteCookieValue(\"session-key\");\r\n        this.setState({ redirect: \"/Login\" });\r\n        return;\r\n      });\r\n    this.setState({ loading: false });\r\n  }\r\n  adjustEpisode = (element, type) => {\r\n    let numWatched = element[\"node\"][\"my_list_status\"][\"num_episodes_watched\"];\r\n    if (type === \"increment\") {\r\n      numWatched++;\r\n    } else if (type == \"decrement\") {\r\n      numWatched--;\r\n    } else {\r\n      throw Error(\"adjustEpisode invalid argument\");\r\n    }\r\n    if (element[\"node\"][\"num_episodes\"] != 0) {\r\n      if (numWatched > element[\"node\"][\"num_episodes\"]) {\r\n        alert(`This show only has ${element[\"node\"][\"num_episodes\"]} episodes`);\r\n        return;\r\n      }\r\n    }\r\n    if (numWatched < 0) {\r\n      return;\r\n    }\r\n    let body = { numWatched: numWatched, id: element[\"node\"][\"id\"] };\r\n    fetch(`${backendAddress}/adjustEpisode`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"text/plain\",\r\n        \"session-key\": getCookieValue(\"session-key\"),\r\n      },\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (!data[\"status\"]) {\r\n          deleteCookieValue(\"session-key\");\r\n          this.setState({ redirect: \"/Login\" });\r\n          return;\r\n        }\r\n      })\r\n      .catch(() =>\r\n        alert(\r\n          \"failed to update WatchList, server is down or client lost connection\"\r\n        )\r\n      );\r\n    //we assume we can only get currentlyAiring results\r\n    let temp = { ...this.state.watchList };\r\n    console.log(temp);\r\n    for (let show of temp[\"currentlyAiring\"]) {\r\n      if (show[\"node\"][\"id\"] == element[\"node\"][\"id\"]) {\r\n        show[\"node\"][\"my_list_status\"][\"num_episodes_watched\"] = numWatched;\r\n      }\r\n    }\r\n    this.setState({ watchList: temp });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to={this.state.redirect} />;\r\n    } else if (!this.state.loggedInToMal) {\r\n      const CodeChallenge = btoa(\r\n        crypto.getRandomValues(new Uint8Array(128))\r\n      ).substr(0, 128);\r\n      if (CodeChallenge.length < 43 || CodeChallenge > 128) {\r\n        deleteCookieValue(\"session-key\");\r\n        this.setState({ redirect: \"/Home\" });\r\n      }\r\n      setCookieValue(\"code-challenge\", CodeChallenge, 3600);\r\n      let url = `https://myanimelist.net/v1/oauth2/authorize?response_type=code&client_id=${client_id}&code_challenge=${CodeChallenge}`;\r\n      console.log(url);\r\n      return (\r\n        <div>\r\n          <Header />\r\n          <a href={url}>\r\n            <button className=\"MobilebtnNoHover btn--warning--solid btn--medium center-screen\">\r\n              Sign-in to MyAnimeList\r\n            </button>\r\n          </a>\r\n        </div>\r\n      );\r\n    } else if (this.state.loading) {\r\n      return (\r\n        <div>\r\n          <Header />\r\n          <CircularProgress className=\"centered\" />\r\n        </div>\r\n      );\r\n    } else {\r\n      if (\r\n        this.state.watchList &&\r\n        this.state.watchList[\"currentlyAiring\"] &&\r\n        this.state.watchList[\"watching\"]\r\n      ) {\r\n        return (\r\n          <div>\r\n            <Header />\r\n            <div style={{ marginLeft: \"6%\" }}>\r\n              <Box\r\n                display=\"flex\"\r\n                justifyContent=\"space-evenly\"\r\n                flexWrap=\"wrap\"\r\n                alignContent=\"space-between\"\r\n              >\r\n                {this.state.watchList[\"currentlyAiring\"].map((element) => {\r\n                  return (\r\n                    <div className=\"mobileLeftAlign\">\r\n                      <Box\r\n                        display=\"flex\"\r\n                        width=\"500px\"\r\n                        height=\"300px\"\r\n                        margin=\"2rem\"\r\n                        key={element[\"node\"][\"id\"]}\r\n                      >\r\n                        <img\r\n                          src={element[\"node\"][\"main_picture\"][\"medium\"]}\r\n                          alt={element[\"node\"][\"title\"]}\r\n                        />\r\n                        <div className=\"dashboardText\">\r\n                          <p>\r\n                            {`${capitalizeFirstLetter(\r\n                              element[\"node\"][\"broadcast\"][\"day_of_the_week\"]\r\n                            )} ${element[\"node\"][\"broadcast\"][\"start_time\"]}`}\r\n                          </p>\r\n                          <p>\r\n                            {`\r\n                            Watched: ${element[\"node\"][\"my_list_status\"][\"num_episodes_watched\"]}\r\n                            `}\r\n                          </p>\r\n                          <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            justifyContent=\"center\"\r\n                            alignItems=\"\"\r\n                            spacing={1}\r\n                            style={{ marginRight: \"50px\" }}\r\n                          >\r\n                            <Grid item>\r\n                              <button\r\n                                onClick={() =>\r\n                                  this.adjustEpisode(element, \"increment\")\r\n                                }\r\n                                className=\"Mobilebtn btn--danger--solid btn--medium\"\r\n                              >\r\n                                +\r\n                              </button>\r\n                            </Grid>\r\n                            <Grid item>\r\n                              <button\r\n                                onClick={() =>\r\n                                  this.adjustEpisode(element, \"decrement\")\r\n                                }\r\n                                className=\"Mobilebtn btn--danger--solid btn--medium\"\r\n                              >\r\n                                -\r\n                              </button>\r\n                            </Grid>\r\n                          </Grid>\r\n                        </div>\r\n                      </Box>\r\n                      <p className=\"dashboardText\">\r\n                        {element[\"node\"][\"title\"]}\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </Box>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        return <p>no airing/watching shows</p>;\r\n      }\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport AuthPage from \"./AuthPage\";\r\n\r\nexport default class HomePage extends React.Component {\r\n  render() {\r\n    return <AuthPage type=\"signup\" error=\"Username already exists\" />;\r\n  }\r\n}\r\n","import \"./index.css\";\r\nimport \"./bootstrap.css\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport HomePage from \"./components/homePage\";\r\nimport LoginPage from \"./components/LoginPage\";\r\nimport AboutPage from \"./components/AboutPage\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport SignupPage from \"./components/SignupPage\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={HomePage} />\r\n          <Route path=\"/Home\" exact component={HomePage} />\r\n          <Route path=\"/Login\" exact component={LoginPage} />\r\n          <Route path=\"/About\" exact component={AboutPage} />\r\n          <Route path=\"/Dashboard\" exact component={Dashboard} />\r\n          <Route path=\"/Signup\" exact component={SignupPage} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}